RewriteEngine On
Options -Multiviews

# Redirect non-www to www
RewriteCond %{HTTP_HOST} !^www\.calixworld\.com$ [NC]
RewriteRule ^(.*)$ https://www.calixworld.com/$1 [L,R=301]

# Redirect http to https
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect /single-airdrop?id=XXX to /single-airdrop/XXX
RewriteCond %{QUERY_STRING} ^id=([0-9]+)$
RewriteCond %{REQUEST_URI} !^/single-airdrop/.*$
RewriteRule ^single-airdrop$ /single-airdrop/%1/? [R=301,L]

# Remove .php extension
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^\ ]+)\.php
RewriteRule ^/?(.*)\.php$ /$1 [L,R=301]

# Check to see if the request is for a PHP file
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^/?(.*)$ /$1.php [L]